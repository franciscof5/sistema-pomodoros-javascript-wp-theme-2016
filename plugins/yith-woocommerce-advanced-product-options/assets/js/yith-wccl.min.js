jQuery(document).ready(function(a){if("undefined"===typeof yith_wccl_general)return!1;a.fn.yith_wccl_select=function(e){var b=a(this),c=b.attr("name");e=e[c];var m="undefined"!=typeof e?e.type:b.data("type"),f="undefined"!=typeof e?e.terms:!1,g=b.parent().find(".select_box"),d=[];b.addClass("yith_wccl_custom").hide();g.length&&yith_wccl_general.grey_out||(g.remove(),g=a("<div />",{"class":"select_box_"+m+" select_box "+b.attr("name")}).insertAfter(b));b.find("option").each(function(){var h=a(this).val();
    if(f&&"undefined"!=typeof f[h]||a(this).data("value")){d.push(h);var e="select_option_"+m+" select_option",c=f&&"undefined"!=typeof f[h]?f[h].value:a(this).data("value"),l=f&&"undefined"!=typeof f[h]?f[h].tooltip:a(this).data("tooltip"),p=a(this),k=g.find('[data-value="'+h+'"]');k.length||(k=a("<div/>",{"class":e,"data-value":h}).appendTo(g),h==b.val()&&k.addClass("selected"),k.on("click",function(d){a(this).hasClass("selected")?b.val("").change():b.val(p.val()).change();d=a(this);d.toggleClass("selected");
        d.siblings().removeClass("selected")}),"colorpicker"==m?k.append(a("<span/>",{"class":"yith_wccl_value",css:{background:c}})):"image"==m?k.append(a("<img/>",{"class":"yith_wccl_value",src:c})):"label"==m&&k.append(a("<span/>",{"class":"yith_wccl_value",text:c})),yith_wccl_general.tooltip&&"undefined"!=typeof l&&""!=l&&("image"==m&&-1!=l.indexOf("{show_image}")&&(l=l.replace("{show_image}",'<img src="'+c+'" />')),r(k,l)))}});yith_wccl_general.grey_out&&g.children().each(function(){var c=a(this).data("value")+
    "";"-1"==a.inArray(c,d)?a(this).addClass("inactive"):a(this).removeClass("inactive")})};var r=function(e,b){var c=a('<span class="yith_wccl_tooltip"></span>');c.addClass(yith_wccl_general.tooltip_pos+" "+yith_wccl_general.tooltip_ani);e.append(c.html("<span>"+b+"</span>"))},t=function(e){e.preventDefault();var b=a(this),c=b.data("product_id"),m=b.data("quantity"),f=[],g=!1;e.data.select.each(function(a){f[a]=this.name+"="+this.value});try{g="sessionStorage"in window&&null!==window.sessionStorage,
    window.sessionStorage.setItem("wc","test"),window.sessionStorage.removeItem("wc")}catch(d){g=!1}a.ajax({url:yith_wccl_general.ajaxurl.toString().replace("%%endpoint%%","yith_wccl_add_to_cart"),type:"POST",data:{product_id:c,variation_id:e.data.variation,attr:f.join("&"),quantity:m,context:"frontend"},beforeSend:function(){b.addClass("loading").removeClass("added")},success:function(d){d.error&&d.product_url?window.location=d.product_url:yith_wccl_general.cart_redirect?window.location=yith_wccl_general.cart_url:
    (b.removeClass("loading").addClass("added"),b.next(".added_to_cart").length||b.after(' <a href="'+yith_wccl_general.cart_url+'" class="added_to_cart wc-forward" title="'+yith_wccl_general.view_cart+'">'+yith_wccl_general.view_cart+"</a>"),d.fragments&&a.each(d.fragments,function(d,c){a(d).replaceWith(c)}),g&&(sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(d.fragments)),sessionStorage.setItem("wc_cart_hash",d.cart_hash)),a(document.body).trigger("added_to_cart",[d.fragments,
        d.cart_hash,b]))}})};a.yith_wccl=function(e){var b=a(".variations_form.cart:not(.initialized)");e="undefined"!=typeof yith_wccl?JSON.parse(yith_wccl.attributes):e;"undefined"==typeof e&&(e=[]);b.each(function(){var c=a(this),b=c.find(".variations select"),f=!1,g=!1,d=c.closest("li.product").length?c.closest("li.product"):c.closest(".product-add-to-cart"),h=d.find("img.wp-post-image"),n=h.attr("src"),r=h.attr("srcset"),l=d.find("span.price").clone().wrap("<p>").parent().html(),p=d.find("a.product_type_variable"),
    k=p.html(),q=d.find("input.thumbnail-quantity"),u=function(b,c){b.each(function(){var b=e[this.name],h=a(this).data("type");if(!d.length&&yith_wccl_general.description&&"undefined"!=typeof b&&b.descr&&c){var f=a(this).closest("tr").length?!0:!1,g=f?'<tr><td colspan="2">'+b.descr+"</td></tr>":'<p class="attribute_description">'+b.descr+"</p>";f?a(this).closest("tr").after(g):a(this).parent().append(g)}("undefined"!=typeof b||h)&&a(this).yith_wccl_select(e)})},v=function(){h.attr("src",n);h.attr("srcset",
        r);d.find("span.price").replaceWith(l);d.find("span.is-outofstock").remove();q.length&&q.hide();p.html(k).off("click",t).removeClass("added").next(".added_to_cart").remove()};c.addClass("initialized");c.on("check_variations",function(a,b,c){c||(f?f=!1:g&&(g=!1,v()))});c.on("woocommerce_update_variation_values",function(){u(b,!1)});c.on("found_variation",function(a,e){b.last().trigger("focusin");if(c.hasClass("in_loop")){g&&v();g=f=!0;var k=e.image_src,l=e.image_srcset,n=e.price_html,r=e.variation_id;
    k.length&&h.attr("src",k);l.length&&h.attr("srcset",l);""!=n&&d.find("span.price").replaceWith(n);q.length&&q.show();e.is_in_stock?(p.html(yith_wccl_general.add_cart),p.off("click").on("click",{variation:r,select:b},t)):d.find("span.price").after('<span class="is-outofstock">'+yith_wccl_general.outstock+"</span>")}});c.on("click",".reset_variations",function(){a(".select_option.selected").removeClass("selected")});if(c.hasClass("in_loop"))c.parent().on("change",function(a){a.stopPropagation()});q.length&&
q.hide();u(b,!0);b.last().trigger("change")})};var n=[];a.yith_wccl(n);a(document).on("yith-wcan-ajax-filtered yith_infs_added_elem",function(){"undefined"!=typeof a.yith_wccl&&"undefined"!=typeof a.fn.wc_variation_form&&(a(document).find(".variations_form:not(.initialized)").each(function(){a(this).wc_variation_form()}),a.yith_wccl(n))})});